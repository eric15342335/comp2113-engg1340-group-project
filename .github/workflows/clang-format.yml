name: clang-format

on: [pull_request]

jobs:
  cpp-formatting-check:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v3
    - name: Run clang-format
      run: |
        clang-format --Werror --dry-run $(find . -name '*.cpp' -or -name '*.h')
